# Введение Salt And Pepper
Модифицированная версия (Поддержка цветных изображений, выгрузка в любой формат, фильтр определенных размеров)

В данной лабораторной работе использовалась дополнительная библиотека OpenCV

Лабораторная работа находится в файле kernel.cu
Этот файл разделен на 3 основных блока:
1. Блок параметров
2. Блок функций
3. Основной блок

# Блок параметров

В данном блоке находятся параметры для регулировки программы:
1. filterSize  - отвечает за размер фильтра (Максимум 5 на 5, работает не для всех размеров изображений)
2. inputPath  - отвечает за путь к файлу (C://original.bmp либо, если нужно в туже папку, где и код original.bmp)
3. outputPath - отвечает за выходной путь к файлу (C://original.bmp либо, если нужно в туже папку, где и код original.bmp)

# Основной блок и блок функций

В данных блоках содержится основной код программы, а именно, загрузка изображения, подготовка данных для обработки и основная функия для GPU

Распараллеливание просиходило в момент времени, когда нужно было рассчитывать каждый пиксель изображения. Это позволяет достигнуть максимально возможной скорости вычисления. Так как одновременно может рассчитываться множество эллементов. 

Внутри функии для GPU происходит сбор всех элементов для определенного пиксель, после чего они фильтруются и находится средний элемент.

Отличия от предыдущей версии:
- Благодаря библиотеке OpenCV реализовано возможность поддержки изображений различных расширений
- Также с использованием uchar была добавлена возможность фильтрации цветных изображений (отдельно фильтруется каждый цветовой канал)
- Добавлена возможность выбора размера фильтра, что обеспечивает разный результат фильтрации

Для того, чтобы создать изображение с шумом, был написан небольшой скрипт для системы Matlab (так как там это сделать быстрее и проще всего) - файл с расширением .m

# Результат работы

Ниже представлен результат работы программы, на изображениях с различным шумом, а также с различным размером фильтра

###### Исходное изоражение с коэфициентом шума 0.02, фильтр 2х2 и фильтр 3х3

![1_02](https://user-images.githubusercontent.com/31400073/198891599-9c814f8b-9416-4d86-bf9a-1ae1d1507ed5.jpg)

![2_02](https://user-images.githubusercontent.com/31400073/198891608-9c1bd14e-f1f0-4afd-b17e-af55b8606eaf.jpg)

###### Исходное изоражение с коэфициентом шума 0.08, фильтр 2х2 и фильтр 3х3

![1_08](https://user-images.githubusercontent.com/31400073/198891654-25ba7107-8267-4e45-ad89-c7967ab14279.jpg)

![2_08](https://user-images.githubusercontent.com/31400073/198891664-d9534329-61f4-422a-bd42-15171e809908.jpg)

###### Исходное изоражение с коэфициентом шума 0.1, фильтр 2х2 и фильтр 3х3

![1_1](https://user-images.githubusercontent.com/31400073/198891680-2913060b-0a38-435a-b4b8-c0dde270e81a.jpg)

![2_1](https://user-images.githubusercontent.com/31400073/198891683-acee5629-fcf4-4719-b2bc-751ed526e2d8.jpg)
